<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SCFHS Prometric Pass Prediction Exam</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f6f8;
  padding: 20px;
}

h1, h2 {
  text-align: center;
}

button {
  padding: 10px 18px;
  font-size: 16px;
  margin: 15px 0;
  cursor: pointer;
}

input[type=text] {
  padding: 6px;
  width: 260px;
  margin: 5px;
}

.question {
  background: #ffffff;
  padding: 15px;
  margin-bottom: 15px;
  border-radius: 6px;
  border-left: 6px solid #ccc;
}

.question.correct { border-left-color: #2ecc71; }
.question.wrong { border-left-color: #e74c3c; }

.rationale {
  display: none;
  margin-top: 10px;
  padding: 10px;
  background: #f1f1f1;
  border-left: 4px solid #555;
  font-size: 14px;
}

#exam { display: none; }

#heatmap {
  display: grid;
  grid-template-columns: repeat(10, 1fr);
  gap: 6px;
  margin-top: 20px;
}

.heat {
  padding: 8px;
  text-align: center;
  border-radius: 4px;
  font-size: 12px;
  font-weight: bold;
  cursor: pointer;
}

.heat.correct { background: #2ecc71; color: #fff; }
.heat.wrong { background: #e74c3c; color: #fff; }
.heat.unanswered { background: #bdc3c7; color: #000; }
</style>
</head>

<body>

<h1>SCFHS Prometric Pass Prediction Exam</h1>

<div id="intro" style="text-align:center;">
  Candidate Name:<br>
  <input type="text" id="candidateName"><br><br>
  Candidate ID:<br>
  <input type="text" id="candidateID"><br><br>
  <button onclick="startExam()">Start Exam</button>
</div>

<form id="exam">

<!-- ================================================= -->
<!-- ðŸ”½ PASTE Q1â€“Q100 BELOW (SAME FORMAT FOR ALL) ðŸ”½ -->
<!-- ================================================= -->

<div class="question" id="q1">
<b>Q1. A 68-year-old male admitted with pneumonia suddenly becomes restless. BP 88/54, HR 124, RR 30, SpOâ‚‚ 89% on room air. What is the nurseâ€™s PRIORITY action?</b><br>
<label><input type="radio" name="q1" value="1"> Apply oxygen via non-rebreather mask</label><br>
<label><input type="radio" name="q1" value="0"> Reassess vital signs in 15 minutes</label><br>
<label><input type="radio" name="q1" value="0"> Notify the physician</label><br>
<label><input type="radio" name="q1" value="0"> Document findings</label>

<div class="rationale">
<b>Trainer Review:</b><br>
Fail-fast hypoxia + hypotension. ABC â†’ oxygenation before notification or documentation.
</div>
</div>

<!-- ðŸ” CONTINUE SAME STRUCTURE UNTIL Q100 -->

<button type="button" onclick="submitExam()">Submit Exam</button>
</form>

<h2>Item-Level Heatmap (Trainer View)</h2>
<div id="heatmap"></div>

<script>
function startExam() {
  document.getElementById("intro").style.display = "none";
  document.getElementById("exam").style.display = "block";
}

function submitExam() {
  const heatmap = document.getElementById("heatmap");
  heatmap.innerHTML = "";

  for (let i = 1; i <= 100; i++) {
    const answers = document.getElementsByName("q" + i);
    const question = document.getElementById("q" + i);
    let status = "unanswered";

    for (let a of answers) {
      if (a.checked) {
        status = (a.value === "1") ? "correct" : "wrong";
      }
    }

    if (question) {
      question.classList.remove("correct", "wrong");
      if (status === "correct") question.classList.add("correct");
      if (status === "wrong") question.classList.add("wrong");
    }

    const cell = document.createElement("div");
    cell.className = "heat " + status;
    cell.innerText = "Q" + i;
    cell.onclick = function () {
      jumpToQuestion(i);
    };

    heatmap.appendChild(cell);
  }
}

function jumpToQuestion(qNum) {
  const question = document.getElementById("q" + qNum);
  if (!question) return;

  question.scrollIntoView({ behavior: "smooth", block: "start" });

  const rationale = question.querySelector(".rationale");
  if (rationale) {
    rationale.style.display =
      rationale.style.display === "block" ? "none" : "block";
  }
}
</script>

</body>
</html>
